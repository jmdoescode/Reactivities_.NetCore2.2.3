{"ast":null,"code":"import _slicedToArray from \"F:\\\\OneDrive\\\\_SoftwareDev\\\\Udemy\\\\2019_.NetCore_React\\\\Projects\\\\Reactivities_.NetCore2.2.3\\\\client-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\OneDrive\\\\_SoftwareDev\\\\Udemy\\\\2019_.NetCore_React\\\\Projects\\\\Reactivities_.NetCore2.2.3\\\\client-app\\\\src\\\\app\\\\layout\\\\App.tsx\";\nimport React, { useState, useEffect, Fragment, useContext } from \"react\";\nimport { Container } from \"semantic-ui-react\";\nimport NavBar from \"./../../features/nav/NavBar\";\nimport ActivityDashboard from \"../../features/activities/dashboard/ActivityDashboard\";\nimport agent from \"./../api/agent\";\nimport LoadingComponent from './LoadingComponent';\nimport ActivityStore from './../stores/activityStore';\nimport { observer } from 'mobx-react-lite';\n\nconst App = () => {\n  const activityStore = useContext(ActivityStore);\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        activities = _useState2[0],\n        setActivities = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        selectedActivity = _useState4[0],\n        setSelectedActivity = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        editMode = _useState6[0],\n        setEditMode = _useState6[1]; //smart enough to infer type by the initial value\n\n\n  const _useState7 = useState(true),\n        _useState8 = _slicedToArray(_useState7, 2),\n        loading = _useState8[0],\n        setLoading = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        submitting = _useState10[0],\n        setSubmitting = _useState10[1];\n\n  const _useState11 = useState(''),\n        _useState12 = _slicedToArray(_useState11, 2),\n        target = _useState12[0],\n        setTarget = _useState12[1];\n\n  const handleDeleteActivity = (event, id) => {\n    setSubmitting(true);\n    setTarget(event.currentTarget.name);\n    agent.Activities.delete(id).then(() => {\n      setActivities([...activities.filter(a => a.id !== id)]);\n    }).then(() => setSubmitting(false));\n  };\n\n  useEffect(() => {\n    activityStore.loadActivities();\n  }, [activityStore]); //5.054 - empty array ensures that useEffect will run 1 time only - every time this component renders the useEffect method will be called\n  //7.082 - in the same empty array in 5.054 - specify activity store\n\n  if (activityStore.loadingInitial) return React.createElement(LoadingComponent, {\n    content: \"Loading activities...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  });\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(NavBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(Container, {\n    style: {\n      marginTop: \"7em\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(ActivityDashboard, {\n    setEditMode: setEditMode,\n    setSelectedActivity: setSelectedActivity,\n    deleteActivity: handleDeleteActivity,\n    submitting: submitting,\n    target: target,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })));\n};\n\nexport default observer(App); //7.082 - need to make App an observer of activites","map":{"version":3,"sources":["F:/OneDrive/_SoftwareDev/Udemy/2019_.NetCore_React/Projects/Reactivities_.NetCore2.2.3/client-app/src/app/layout/App.tsx"],"names":["React","useState","useEffect","Fragment","useContext","Container","NavBar","ActivityDashboard","agent","LoadingComponent","ActivityStore","observer","App","activityStore","activities","setActivities","selectedActivity","setSelectedActivity","editMode","setEditMode","loading","setLoading","submitting","setSubmitting","target","setTarget","handleDeleteActivity","event","id","currentTarget","name","Activities","delete","then","filter","a","loadActivities","loadingInitial","marginTop"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,QAArC,EAA+DC,UAA/D,QAAiF,OAAjF;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AAEA,OAAOC,iBAAP,MAA8B,uDAA9B;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,SAASC,QAAT,QAAyB,iBAAzB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAChB,QAAMC,aAAa,GAAGT,UAAU,CAACM,aAAD,CAAhC;;AADgB,oBAEoBT,QAAQ,CAAc,EAAd,CAF5B;AAAA;AAAA,QAETa,UAFS;AAAA,QAEGC,aAFH;;AAAA,qBAGgCd,QAAQ,CAAmB,IAAnB,CAHxC;AAAA;AAAA,QAGTe,gBAHS;AAAA,QAGSC,mBAHT;;AAAA,qBAIgBhB,QAAQ,CAAC,KAAD,CAJxB;AAAA;AAAA,QAITiB,QAJS;AAAA,QAICC,WAJD,kBAIiC;;;AAJjC,qBAKclB,QAAQ,CAAC,IAAD,CALtB;AAAA;AAAA,QAKTmB,OALS;AAAA,QAKAC,UALA;;AAAA,qBAMoBpB,QAAQ,CAAC,KAAD,CAN5B;AAAA;AAAA,QAMTqB,UANS;AAAA,QAMGC,aANH;;AAAA,sBAOYtB,QAAQ,CAAC,EAAD,CAPpB;AAAA;AAAA,QAOTuB,MAPS;AAAA,QAODC,SAPC;;AAShB,QAAMC,oBAAoB,GAAG,CAACC,KAAD,EAA2CC,EAA3C,KAA0D;AACrFL,IAAAA,aAAa,CAAC,IAAD,CAAb;AACAE,IAAAA,SAAS,CAACE,KAAK,CAACE,aAAN,CAAoBC,IAArB,CAAT;AACAtB,IAAAA,KAAK,CAACuB,UAAN,CAAiBC,MAAjB,CAAwBJ,EAAxB,EAA4BK,IAA5B,CAAiC,MAAM;AACrClB,MAAAA,aAAa,CAAC,CAAC,GAAGD,UAAU,CAACoB,MAAX,CAAkBC,CAAC,IAAIA,CAAC,CAACP,EAAF,KAASA,EAAhC,CAAJ,CAAD,CAAb;AACD,KAFD,EAGCK,IAHD,CAGM,MAAMV,aAAa,CAAC,KAAD,CAHzB;AAID,GAPD;;AASArB,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,aAAa,CAACuB,cAAd;AACD,GAFQ,EAEN,CAACvB,aAAD,CAFM,CAAT,CAlBgB,CAqBd;AACA;;AAEF,MAAIA,aAAa,CAACwB,cAAlB,EAAkC,OAAO,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAC,uBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AAElC,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,iBAAD;AACE,IAAA,WAAW,EAAEnB,WADf;AAEE,IAAA,mBAAmB,EAAEF,mBAFvB;AAGE,IAAA,cAAc,EAAES,oBAHlB;AAIE,IAAA,UAAU,EAAEJ,UAJd;AAKE,IAAA,MAAM,EAAEE,MALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF;AAcD,CAxCD;;AA0CA,eAAeb,QAAQ,CAACC,GAAD,CAAvB,C,CAA8B","sourcesContent":["import React, { useState, useEffect, Fragment, SyntheticEvent, useContext } from \"react\";\r\nimport { Container } from \"semantic-ui-react\";\r\nimport NavBar from \"./../../features/nav/NavBar\";\r\nimport { IActivity } from \"./../models/activity\";\r\nimport ActivityDashboard from \"../../features/activities/dashboard/ActivityDashboard\";\r\nimport agent from \"./../api/agent\";\r\nimport LoadingComponent from './LoadingComponent';\r\nimport ActivityStore from './../stores/activityStore';\r\nimport { observer } from 'mobx-react-lite';\r\n\r\nconst App = () => {\r\n  const activityStore = useContext(ActivityStore);\r\n  const [activities, setActivities] = useState<IActivity[]>([]);\r\n  const [selectedActivity, setSelectedActivity] = useState<IActivity | null>(null);\r\n  const [editMode, setEditMode] = useState(false); //smart enough to infer type by the initial value\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [target, setTarget] = useState('');\r\n\r\n  const handleDeleteActivity = (event: SyntheticEvent<HTMLButtonElement>, id: string) => {\r\n    setSubmitting(true);\r\n    setTarget(event.currentTarget.name);\r\n    agent.Activities.delete(id).then(() => {\r\n      setActivities([...activities.filter(a => a.id !== id)]);\r\n    })\r\n    .then(() => setSubmitting(false));\r\n  }\r\n\r\n  useEffect(() => {\r\n    activityStore.loadActivities();\r\n  }, [activityStore]);\r\n    //5.054 - empty array ensures that useEffect will run 1 time only - every time this component renders the useEffect method will be called\r\n    //7.082 - in the same empty array in 5.054 - specify activity store\r\n\r\n  if (activityStore.loadingInitial) return <LoadingComponent content='Loading activities...' />\r\n\r\n  return (\r\n    <Fragment>\r\n      <NavBar />\r\n      <Container style={{ marginTop: \"7em\" }}>\r\n        <ActivityDashboard\r\n          setEditMode={setEditMode}\r\n          setSelectedActivity={setSelectedActivity}\r\n          deleteActivity={handleDeleteActivity}\r\n          submitting={submitting}\r\n          target={target}\r\n        />\r\n      </Container>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default observer(App); //7.082 - need to make App an observer of activites\r\n"]},"metadata":{},"sourceType":"module"}